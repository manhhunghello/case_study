let dataAllProduct = [
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-4bf90c75-ee66-466a-b051-b993f3cfb5f0.jpg?v=1679048580127",
        name: "Nike",
        price: 1000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-4080110b-59d0-49c0-989b-61a1b597d526.jpg?v=1676967371430",
        name: "Adidas",
        price: 2000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-0966dca2-57c4-4ce9-b023-3c6eb42e05a0.jpg?v=1659612034717",
        name: "Nike",
        price: 3000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/31-21df0da4-c7b5-482a-9cb5-9c5a85f543bf.jpg?v=1671596539513",
        name: "Adidas",
        price: 4000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/6-388322da-c8c8-4788-b554-58c19436297d.jpg?v=1667726867210",
        name: "Nike",
        price: 5000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-16d8f466-71f5-45bf-9e00-6f221db1ec0c.jpg?v=1661500037070",
        name: "Nike",
        price: 6000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/5-3fb43760-763c-4c3f-89e1-fec01717ac5f.jpg?v=1679646687380",
        name: "Nike",
        price: 7000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/14-ed77366a-7214-435d-b2d0-1f6da3b783ce.jpg?v=1671701343243",
        name: "Nike",
        price: 8000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-4bf90c75-ee66-466a-b051-b993f3cfb5f0.jpg?v=1679048580127",
        name: "Nike",
        price: 1000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-4080110b-59d0-49c0-989b-61a1b597d526.jpg?v=1676967371430",
        name: "Adidas",
        price: 2000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-0966dca2-57c4-4ce9-b023-3c6eb42e05a0.jpg?v=1659612034717",
        name: "Nike",
        price: 3000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/31-21df0da4-c7b5-482a-9cb5-9c5a85f543bf.jpg?v=1671596539513",
        name: "Adidas",
        price: 4000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/6-388322da-c8c8-4788-b554-58c19436297d.jpg?v=1667726867210",
        name: "Nike",
        price: 5000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-16d8f466-71f5-45bf-9e00-6f221db1ec0c.jpg?v=1661500037070",
        name: "Nike",
        price: 6000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/5-3fb43760-763c-4c3f-89e1-fec01717ac5f.jpg?v=1679646687380",
        name: "Nike",
        price: 7000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/14-ed77366a-7214-435d-b2d0-1f6da3b783ce.jpg?v=1671701343243",
        name: "Nike",
        price: 8000000
    }, {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-4bf90c75-ee66-466a-b051-b993f3cfb5f0.jpg?v=1679048580127",
        name: "Nike",
        price: 1000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-4080110b-59d0-49c0-989b-61a1b597d526.jpg?v=1676967371430",
        name: "Adidas",
        price: 2000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-0966dca2-57c4-4ce9-b023-3c6eb42e05a0.jpg?v=1659612034717",
        name: "Nike",
        price: 3000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/31-21df0da4-c7b5-482a-9cb5-9c5a85f543bf.jpg?v=1671596539513",
        name: "Adidas",
        price: 4000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/6-388322da-c8c8-4788-b554-58c19436297d.jpg?v=1667726867210",
        name: "Nike",
        price: 5000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-16d8f466-71f5-45bf-9e00-6f221db1ec0c.jpg?v=1661500037070",
        name: "Nike",
        price: 6000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/5-3fb43760-763c-4c3f-89e1-fec01717ac5f.jpg?v=1679646687380",
        name: "Nike",
        price: 7000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/14-ed77366a-7214-435d-b2d0-1f6da3b783ce.jpg?v=1671701343243",
        name: "Nike",
        price: 8000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-4bf90c75-ee66-466a-b051-b993f3cfb5f0.jpg?v=1679048580127",
        name: "Nike",
        price: 1000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-4080110b-59d0-49c0-989b-61a1b597d526.jpg?v=1676967371430",
        name: "Adidas",
        price: 2000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/7-0966dca2-57c4-4ce9-b023-3c6eb42e05a0.jpg?v=1659612034717",
        name: "Nike",
        price: 3000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/31-21df0da4-c7b5-482a-9cb5-9c5a85f543bf.jpg?v=1671596539513",
        name: "Adidas",
        price: 4000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/6-388322da-c8c8-4788-b554-58c19436297d.jpg?v=1667726867210",
        name: "Nike",
        price: 5000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/1-16d8f466-71f5-45bf-9e00-6f221db1ec0c.jpg?v=1661500037070",
        name: "Nike",
        price: 6000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/5-3fb43760-763c-4c3f-89e1-fec01717ac5f.jpg?v=1679646687380",
        name: "Nike",
        price: 7000000
    },
    {
        img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/336/177/products/14-ed77366a-7214-435d-b2d0-1f6da3b783ce.jpg?v=1671701343243",
        name: "Nike",
        price: 8000000
    },


]

function displayProduct() {
    let renderProduct = "";

    for (let i = 0; i < dataAllProduct.length; i++) {
        renderProduct +=
            `
                <div class="product" style=" padding:0 20px">
                    <img src=${dataAllProduct[i].img} width="200px"  alt="ảnh">
                    <h3> ${dataAllProduct[i].name}</h3>
                    <p style="color: red">${dataAllProduct[i].price} $ USD</p>
<!--                    <div style="box-shadow: 0 0 10px rgba(0,0,0.3)">-->
                    <button class="btn-edit" onclick="editProduct(${i})" >Edit</button><br><br>
                    <button class="btn-delete" onclick="deleteProduct(${i})">Delete</button><br><br>
                    <button class="btn-add" onclick="addProduct()">Add To Cart</button>
<!--                    </div>-->


                </div>
            `
    }
    document.getElementById("render-product").innerHTML = renderProduct
}

displayProduct();

function myFunction() {
    let addTableProduct = `<table id="abcd"><br><br>
                               <button onclick="hideAddTable()">X</button>
                       Image: <tr><input type="text" placeholder=" Img Product "  id="inputImg"></tr><br><br>
                       Name:  <tr><input type="text" placeholder="Name Product" id="inputName"></tr><br><br>
                       Price: <tr><input type="text" placeholder="Price Product" id="inputPrice"></tr><br><br>
                       <button onclick="newProduct()" style="width: 50px">Add</button>
                       <button onclick="saveProduct()" style="width: 50px">Save</button>
        `
    addTableProduct += `</table>`
    document.getElementById("result").innerHTML = addTableProduct

}
function hideAddTable() {

    document.getElementById('abcd').style.display = "none";
}

function newProduct() {
    let image = document.getElementById("inputImg").value
    let name = document.getElementById("inputName").value
    let price = document.getElementById("inputPrice").value
    dataAllProduct.push({img: image, name: name, price: price})
    alert("Them san pham thanh cong")
    displayProduct()


}

function deleteProduct(index) {
    if (confirm("Bạn chắc chắn muốn xoá: " + dataAllProduct[index].name)) {
        dataAllProduct.splice(index, 1)
        displayProduct()

    }
}

function editProduct(index) {
    myFunction();
    window.localStorage.setItem("index", index);
    document.getElementById("inputImg").value = dataAllProduct[index].img
    document.getElementById("inputName").value = dataAllProduct[index].name
    document.getElementById("inputPrice").value = dataAllProduct[index].price


}
function saveProduct(){
    let index = window.localStorage.getItem("index")
    let newImage = document.getElementById("inputImg").value
    let newName = document.getElementById("inputName").value
    let newPrice = document.getElementById("inputPrice").value
    dataAllProduct[index].img = newImage
    dataAllProduct[index].name = newName
    dataAllProduct[index].price = newPrice

    console.log(dataAllProduct[index])
    alert("Sửa Sản Phẩm Thành Công")

    displayProduct();

}



